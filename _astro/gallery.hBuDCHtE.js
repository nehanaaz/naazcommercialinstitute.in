import{j as l}from"./jsx-runtime.D_zvdyIk.js";import{I as ye}from"./image.DMJ39dWF.js";import{a as r,r as ot}from"./index.DPV4Kj-g.js";import{O as xe,C as Se,a as Te,T as Re,D as De,R as Ee,P as Ce}from"./image-viewer.BCFQ39dd.js";import{a as mt}from"./utils.066Up6zu.js";import{B as Ft}from"./button.DrXUBKiw.js";import{e as zt,G as Oe}from"./index.O6ymvm0c.js";import{u as Ne}from"./use-in-view.C-jdbwCs.js";import{m as Wt}from"./proxy.Gu3vyICG.js";import{A as $e}from"./arrow-right.nJVKJKWO.js";import{X as je}from"./x.BpRWhA6X.js";import"./index.DwTYlU0g.js";import"./index.CMb1yQ5D.js";import"./createLucideIcon.CxwfycXU.js";import"./index.DON8ckDI.js";function Ae(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const Gt=r.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),pt=()=>{const t=r.useContext(Gt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Ae(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Me(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function Pe(){return jt(/^Mac/)}function Ie(){return jt(/^iPhone/)}function Vt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function ke(){return jt(/^iPad/)||Pe()&&navigator.maxTouchPoints>1}function Kt(){return Ie()||ke()}function jt(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const He=24,_e=typeof window<"u"?ot.useLayoutEffect:ot.useEffect;function Yt(...t){return(...n)=>{for(let e of t)typeof e=="function"&&e(...n)}}const Dt=typeof document<"u"&&window.visualViewport;function qt(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function Jt(t){for(qt(t)&&(t=t.parentElement);t&&!qt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Le=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let vt=0,Et;function Be(t={}){let{isDisabled:n}=t;_e(()=>{if(!n)return vt++,vt===1&&Kt()&&(Et=Ue()),()=>{vt--,vt===0&&Et?.()}},[n])}function Ue(){let t,n=0,e=m=>{t=Jt(m.target),!(t===document.documentElement&&t===document.body)&&(n=m.changedTouches[0].pageY)},o=m=>{if(!t||t===document.documentElement||t===document.body){m.preventDefault();return}let p=m.changedTouches[0].pageY,B=t.scrollTop,_=t.scrollHeight-t.clientHeight;_!==0&&((B<=0&&p>n||B>=_&&p<n)&&m.preventDefault(),n=p)},i=m=>{let p=m.target;Nt(p)&&p!==document.activeElement&&(m.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},a=m=>{let p=m.target;Nt(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",Dt&&(Dt.height<window.innerHeight?requestAnimationFrame(()=>{Xt(p)}):Dt.addEventListener("resize",()=>Xt(p),{once:!0}))}))},b=()=>{window.scrollTo(0,0)},h=window.pageXOffset,T=window.pageYOffset,D=Yt(Fe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=Yt(dt(document,"touchstart",e,{passive:!1,capture:!0}),dt(document,"touchmove",o,{passive:!1,capture:!0}),dt(document,"touchend",i,{passive:!1,capture:!0}),dt(document,"focus",a,!0),dt(window,"scroll",b));return()=>{D(),g(),window.scrollTo(h,T)}}function Fe(t,n,e){let o=t.style[n];return t.style[n]=e,()=>{t.style[n]=o}}function dt(t,n,e,o){return t.addEventListener(n,e,o),()=>{t.removeEventListener(n,e,o)}}function Xt(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let e=Jt(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let o=e.getBoundingClientRect().top,i=t.getBoundingClientRect().top,a=t.getBoundingClientRect().bottom;const b=e.getBoundingClientRect().bottom+He;a>b&&(e.scrollTop+=i-o)}t=e.parentElement}}function Nt(t){return t instanceof HTMLInputElement&&!Le.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function ze(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function We(...t){return n=>t.forEach(e=>ze(e,n))}function Qt(...t){return ot.useCallback(We(...t),t)}const Zt=new WeakMap;function $(t,n,e=!1){if(!t||!(t instanceof HTMLElement))return;let o={};Object.entries(n).forEach(([i,a])=>{if(i.startsWith("--")){t.style.setProperty(i,a);return}o[i]=t.style[i],t.style[i]=a}),!e&&Zt.set(t,o)}function Ve(t,n){if(!t||!(t instanceof HTMLElement))return;let e=Zt.get(t);e&&(t.style[n]=e[n])}const N=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function bt(t,n){if(!t)return null;const e=window.getComputedStyle(t),o=e.transform||e.webkitTransform||e.mozTransform;let i=o.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[N(n)?13:12]):(i=o.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[N(n)?5:4]):null)}function Ye(t){return 8*(Math.log(t+1)-2)}function Ct(t,n){if(!t)return()=>{};const e=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=e}}function qe(...t){return(...n)=>{for(const e of t)typeof e=="function"&&e(...n)}}const C={DURATION:.5,EASE:[.32,.72,0,1]},te=.4,Xe=.25,Ge=100,ee=8,tt=16,$t=26,Ot="vaul-dragging";function ne(t){const n=r.useRef(t);return r.useEffect(()=>{n.current=t}),r.useMemo(()=>(...e)=>n.current==null?void 0:n.current.call(n,...e),[])}function Ke({defaultProp:t,onChange:n}){const e=r.useState(t),[o]=e,i=r.useRef(o),a=ne(n);return r.useEffect(()=>{i.current!==o&&(a(o),i.current=o)},[o,i,a]),e}function re({prop:t,defaultProp:n,onChange:e=()=>{}}){const[o,i]=Ke({defaultProp:n,onChange:e}),a=t!==void 0,b=a?t:o,h=ne(e),T=r.useCallback(D=>{if(a){const m=typeof D=="function"?D(t):D;m!==t&&h(m)}else i(D)},[a,t,i,h]);return[b,T]}function Je({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:e,drawerRef:o,overlayRef:i,fadeFromIndex:a,onSnapPointChange:b,direction:h="bottom",container:T,snapToSequentialPoint:D}){const[g,m]=re({prop:t,defaultProp:e?.[0],onChange:n}),[p,B]=r.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);r.useEffect(()=>{function c(){B({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const _=r.useMemo(()=>g===e?.[e.length-1]||null,[e,g]),E=r.useMemo(()=>{var c;return(c=e?.findIndex(x=>x===g))!=null?c:null},[e,g]),U=e&&e.length>0&&(a||a===0)&&!Number.isNaN(a)&&e[a]===g||!e,w=r.useMemo(()=>{const c=T?{width:T.getBoundingClientRect().width,height:T.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var x;return(x=e?.map(y=>{const I=typeof y=="string";let M=0;if(I&&(M=parseInt(y,10)),N(h)){const u=I?M:p?y*c.height:0;return p?h==="bottom"?c.height-u:-c.height+u:u}const z=I?M:p?y*c.width:0;return p?h==="right"?c.width-z:-c.width+z:z}))!=null?x:[]},[e,p,T]),A=r.useMemo(()=>E!==null?w?.[E]:null,[w,E]),j=r.useCallback(c=>{var x;const y=(x=w?.findIndex(I=>I===c))!=null?x:null;b(y),$(o.current,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:N(h)?`translate3d(0, ${c}px, 0)`:`translate3d(${c}px, 0, 0)`}),w&&y!==w.length-1&&a!==void 0&&y!==a&&y<a?$(i.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"0"}):$(i.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"1"}),m(e?.[Math.max(y,0)])},[o.current,e,w,a,i,m]);r.useEffect(()=>{if(g||t){var c;const x=(c=e?.findIndex(y=>y===t||y===g))!=null?c:-1;w&&x!==-1&&typeof w[x]=="number"&&j(w[x])}},[g,t,e,w,j]);function d({draggedDistance:c,closeDrawer:x,velocity:y,dismissible:I}){if(a===void 0)return;const M=h==="bottom"||h==="right"?(A??0)-c:(A??0)+c,z=E===a-1,u=E===0,F=c>0;if(z&&$(i.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`}),!D&&y>2&&!F){I?x():j(w[0]);return}if(!D&&y>2&&F&&w&&e){j(w[e.length-1]);return}const k=w?.reduce((P,X)=>typeof P!="number"||typeof X!="number"?P:Math.abs(X-M)<Math.abs(P-M)?X:P),W=N(h)?window.innerHeight:window.innerWidth;if(y>te&&Math.abs(c)<W*.4){const P=F?1:-1;if(P>0&&_&&e){j(w[e.length-1]);return}if(u&&P<0&&I&&x(),E===null)return;j(w[E+P]);return}j(k)}function Y({draggedDistance:c}){if(A===null)return;const x=h==="bottom"||h==="right"?A-c:A+c;(h==="bottom"||h==="right")&&x<w[w.length-1]||(h==="top"||h==="left")&&x>w[w.length-1]||$(o.current,{transform:N(h)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`})}function Q(c,x){if(!e||typeof E!="number"||!w||a===void 0)return null;const y=E===a-1;if(E>=a&&x)return 0;if(y&&!x)return 1;if(!U&&!y)return null;const M=y?E+1:E-1,z=y?w[M]-w[M-1]:w[M+1]-w[M],u=c/Math.abs(z);return y?1-u:u}return{isLastSnapPoint:_,activeSnapPoint:g,shouldFade:U,getPercentageDragged:Q,setActiveSnapPoint:m,activeSnapPointIndex:E,onRelease:d,onDrag:Y,snapPointsOffset:w}}const Qe=()=>()=>{};function Ze(){const{direction:t,isOpen:n,shouldScaleBackground:e,setBackgroundColorOnScale:o,noBodyStyles:i}=pt(),a=r.useRef(null),b=ot.useMemo(()=>document.body.style.backgroundColor,[]);function h(){return(window.innerWidth-$t)/window.innerWidth}r.useEffect(()=>{if(n&&e){a.current&&clearTimeout(a.current);const T=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!T)return;qe(o&&!i?Ct(document.body,{background:"black"}):Qe,Ct(T,{transformOrigin:N(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${C.DURATION}s`,transitionTimingFunction:`cubic-bezier(${C.EASE.join(",")})`}));const D=Ct(T,{borderRadius:`${ee}px`,overflow:"hidden",...N(t)?{transform:`scale(${h()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${h()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{D(),a.current=window.setTimeout(()=>{b?document.body.style.background=b:document.body.style.removeProperty("background")},C.DURATION*1e3)}}},[n,e,b])}let ft=null;function tn({isOpen:t,modal:n,nested:e,hasBeenOpened:o,preventScrollRestoration:i,noBodyStyles:a}){const[b,h]=r.useState(()=>typeof window<"u"?window.location.href:""),T=r.useRef(0),D=r.useCallback(()=>{if(Vt()&&ft===null&&t&&!a){ft={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-T.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const B=p-window.innerHeight;B&&T.current>=p&&(document.body.style.top=`${-(T.current+B)}px`)}),300)}},[t]),g=r.useCallback(()=>{if(Vt()&&ft!==null&&!a){const m=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ft),window.requestAnimationFrame(()=>{if(i&&b!==window.location.href){h(window.location.href);return}window.scrollTo(p,m)}),ft=null}},[b]);return r.useEffect(()=>{function m(){T.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),r.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||g()}},[n,g]),r.useEffect(()=>{e||!o||(t?(!window.matchMedia("(display-mode: standalone)").matches&&D(),n||window.setTimeout(()=>{g()},500)):g())},[t,o,b,n,e,D,g]),{restorePositionSetting:g}}function en({open:t,onOpenChange:n,children:e,onDrag:o,onRelease:i,snapPoints:a,shouldScaleBackground:b=!1,setBackgroundColorOnScale:h=!0,closeThreshold:T=Xe,scrollLockTimeout:D=Ge,dismissible:g=!0,handleOnly:m=!1,fadeFromIndex:p=a&&a.length-1,activeSnapPoint:B,setActiveSnapPoint:_,fixed:E,modal:U=!0,onClose:w,nested:A,noBodyStyles:j=!1,direction:d="bottom",defaultOpen:Y=!1,disablePreventScroll:Q=!0,snapToSequentialPoint:c=!1,preventScrollRestoration:x=!1,repositionInputs:y=!0,onAnimationEnd:I,container:M,autoFocus:z=!1}){var u,F;const[k=!1,W]=re({defaultProp:Y,prop:t,onChange:s=>{n?.(s),!s&&!A&&fe(),setTimeout(()=>{I?.(s)},C.DURATION*1e3),s&&!U&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),s||(document.body.style.pointerEvents="auto")}}),[P,X]=r.useState(!1),[G,it]=r.useState(!1),[ie,At]=r.useState(!1),nt=r.useRef(null),wt=r.useRef(null),yt=r.useRef(null),xt=r.useRef(null),st=r.useRef(null),lt=r.useRef(!1),St=r.useRef(null),Tt=r.useRef(0),rt=r.useRef(!1),Mt=r.useRef(!Y),Pt=r.useRef(0),f=r.useRef(null),It=r.useRef(((u=f.current)==null?void 0:u.getBoundingClientRect().height)||0),kt=r.useRef(((F=f.current)==null?void 0:F.getBoundingClientRect().width)||0),Rt=r.useRef(0),se=r.useCallback(s=>{a&&s===ut.length-1&&(wt.current=new Date)},[]),{activeSnapPoint:le,activeSnapPointIndex:at,setActiveSnapPoint:Ht,onRelease:ue,snapPointsOffset:ut,onDrag:ce,shouldFade:_t,getPercentageDragged:de}=Je({snapPoints:a,activeSnapPointProp:B,setActiveSnapPointProp:_,drawerRef:f,fadeFromIndex:p,overlayRef:nt,onSnapPointChange:se,direction:d,container:M,snapToSequentialPoint:c});Be({isDisabled:!k||G||!U||ie||!P||!y||!Q});const{restorePositionSetting:fe}=tn({isOpen:k,modal:U,nested:A??!1,hasBeenOpened:P,preventScrollRestoration:x,noBodyStyles:j});function ht(){return(window.innerWidth-$t)/window.innerWidth}function me(s){var S,R;!g&&!a||f.current&&!f.current.contains(s.target)||(It.current=((S=f.current)==null?void 0:S.getBoundingClientRect().height)||0,kt.current=((R=f.current)==null?void 0:R.getBoundingClientRect().width)||0,it(!0),yt.current=new Date,Kt()&&window.addEventListener("touchend",()=>lt.current=!1,{once:!0}),s.target.setPointerCapture(s.pointerId),Tt.current=N(d)?s.pageY:s.pageX)}function Lt(s,S){var R;let v=s;const O=(R=window.getSelection())==null?void 0:R.toString(),L=f.current?bt(f.current,d):null,H=new Date;if(v.tagName==="SELECT"||v.hasAttribute("data-vaul-no-drag")||v.closest("[data-vaul-no-drag]"))return!1;if(d==="right"||d==="left")return!0;if(wt.current&&H.getTime()-wt.current.getTime()<500)return!1;if(L!==null&&(d==="bottom"?L>0:L<0))return!0;if(O&&O.length>0)return!1;if(st.current&&H.getTime()-st.current.getTime()<D&&L===0||S)return st.current=H,!1;for(;v;){if(v.scrollHeight>v.clientHeight){if(v.scrollTop!==0)return st.current=new Date,!1;if(v.getAttribute("role")==="dialog")return!0}v=v.parentNode}return!0}function pe(s){if(f.current&&G){const S=d==="bottom"||d==="right"?1:-1,R=(Tt.current-(N(d)?s.pageY:s.pageX))*S,v=R>0,O=a&&!g&&!v;if(O&&at===0)return;const L=Math.abs(R),H=document.querySelector("[data-vaul-drawer-wrapper]"),K=d==="bottom"||d==="top"?It.current:kt.current;let V=L/K;const Z=de(L,v);if(Z!==null&&(V=Z),O&&V>=1||!lt.current&&!Lt(s.target,v))return;if(f.current.classList.add(Ot),lt.current=!0,$(f.current,{transition:"none"}),$(nt.current,{transition:"none"}),a&&ce({draggedDistance:R}),v&&!a){const q=Ye(R),gt=Math.min(q*-1,0)*S;$(f.current,{transform:N(d)?`translate3d(0, ${gt}px, 0)`:`translate3d(${gt}px, 0, 0)`});return}const J=1-V;if((_t||p&&at===p-1)&&(o?.(s,V),$(nt.current,{opacity:`${J}`,transition:"none"},!0)),H&&nt.current&&b){const q=Math.min(ht()+V*(1-ht()),1),gt=8-V*8,Ut=Math.max(0,14-V*14);$(H,{borderRadius:`${gt}px`,transform:N(d)?`scale(${q}) translate3d(0, ${Ut}px, 0)`:`scale(${q}) translate3d(${Ut}px, 0, 0)`,transition:"none"},!0)}if(!a){const q=L*S;$(f.current,{transform:N(d)?`translate3d(0, ${q}px, 0)`:`translate3d(${q}px, 0, 0)`})}}}r.useEffect(()=>{window.requestAnimationFrame(()=>{Mt.current=!0})},[]),r.useEffect(()=>{var s;function S(){if(!f.current||!y)return;const R=document.activeElement;if(Nt(R)||rt.current){var v;const O=((v=window.visualViewport)==null?void 0:v.height)||0,L=window.innerHeight;let H=L-O;const K=f.current.getBoundingClientRect().height||0,V=K>L*.8;Rt.current||(Rt.current=K);const Z=f.current.getBoundingClientRect().top;if(Math.abs(Pt.current-H)>60&&(rt.current=!rt.current),a&&a.length>0&&ut&&at){const J=ut[at]||0;H+=J}if(Pt.current=H,K>O||rt.current){const J=f.current.getBoundingClientRect().height;let q=J;J>O&&(q=O-(V?Z:$t)),E?f.current.style.height=`${J-Math.max(H,0)}px`:f.current.style.height=`${Math.max(q,O-Z)}px`}else Me()||(f.current.style.height=`${Rt.current}px`);a&&a.length>0&&!rt.current?f.current.style.bottom="0px":f.current.style.bottom=`${Math.max(H,0)}px`}}return(s=window.visualViewport)==null||s.addEventListener("resize",S),()=>{var R;return(R=window.visualViewport)==null?void 0:R.removeEventListener("resize",S)}},[at,a,ut]);function ct(s){we(),w?.(),s||W(!1),setTimeout(()=>{a&&Ht(a[0])},C.DURATION*1e3)}function Bt(){if(!f.current)return;const s=document.querySelector("[data-vaul-drawer-wrapper]"),S=bt(f.current,d);$(f.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`}),$(nt.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"1"}),b&&S&&S>0&&k&&$(s,{borderRadius:`${ee}px`,overflow:"hidden",...N(d)?{transform:`scale(${ht()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ht()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${C.DURATION}s`,transitionTimingFunction:`cubic-bezier(${C.EASE.join(",")})`},!0)}function we(){!G||!f.current||(f.current.classList.remove(Ot),lt.current=!1,it(!1),xt.current=new Date)}function he(s){if(!G||!f.current)return;f.current.classList.remove(Ot),lt.current=!1,it(!1),xt.current=new Date;const S=bt(f.current,d);if(!s||!Lt(s.target,!1)||!S||Number.isNaN(S)||yt.current===null)return;const R=xt.current.getTime()-yt.current.getTime(),v=Tt.current-(N(d)?s.pageY:s.pageX),O=Math.abs(v)/R;if(O>.05&&(At(!0),setTimeout(()=>{At(!1)},200)),a){ue({draggedDistance:v*(d==="bottom"||d==="right"?1:-1),closeDrawer:ct,velocity:O,dismissible:g}),i?.(s,!0);return}if(d==="bottom"||d==="right"?v>0:v<0){Bt(),i?.(s,!0);return}if(O>te){ct(),i?.(s,!1);return}var L;const H=Math.min((L=f.current.getBoundingClientRect().height)!=null?L:0,window.innerHeight);var K;const V=Math.min((K=f.current.getBoundingClientRect().width)!=null?K:0,window.innerWidth),Z=d==="left"||d==="right";if(Math.abs(S)>=(Z?V:H)*T){ct(),i?.(s,!1);return}i?.(s,!0),Bt()}r.useEffect(()=>(k&&($(document.documentElement,{scrollBehavior:"auto"}),wt.current=new Date),()=>{Ve(document.documentElement,"scrollBehavior")}),[k]);function ge(s){const S=s?(window.innerWidth-tt)/window.innerWidth:1,R=s?-tt:0;St.current&&window.clearTimeout(St.current),$(f.current,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:N(d)?`scale(${S}) translate3d(0, ${R}px, 0)`:`scale(${S}) translate3d(${R}px, 0, 0)`}),!s&&f.current&&(St.current=setTimeout(()=>{const v=bt(f.current,d);$(f.current,{transition:"none",transform:N(d)?`translate3d(0, ${v}px, 0)`:`translate3d(${v}px, 0, 0)`})},500))}function ve(s,S){if(S<0)return;const R=(window.innerWidth-tt)/window.innerWidth,v=R+S*(1-R),O=-tt+S*tt;$(f.current,{transform:N(d)?`scale(${v}) translate3d(0, ${O}px, 0)`:`scale(${v}) translate3d(${O}px, 0, 0)`,transition:"none"})}function be(s,S){const R=N(d)?window.innerHeight:window.innerWidth,v=S?(R-tt)/R:1,O=S?-tt:0;S&&$(f.current,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:N(d)?`scale(${v}) translate3d(0, ${O}px, 0)`:`scale(${v}) translate3d(${O}px, 0, 0)`})}return r.useEffect(()=>{U||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[U]),r.createElement(Ee,{defaultOpen:Y,onOpenChange:s=>{!g&&!s||(s?X(!0):ct(!0),W(s))},open:k},r.createElement(Gt.Provider,{value:{activeSnapPoint:le,snapPoints:a,setActiveSnapPoint:Ht,drawerRef:f,overlayRef:nt,onOpenChange:n,onPress:me,onRelease:he,onDrag:pe,dismissible:g,shouldAnimate:Mt,handleOnly:m,isOpen:k,isDragging:G,shouldFade:_t,closeDrawer:ct,onNestedDrag:ve,onNestedOpenChange:ge,onNestedRelease:be,keyboardIsOpen:rt,modal:U,snapPointsOffset:ut,activeSnapPointIndex:at,direction:d,shouldScaleBackground:b,setBackgroundColorOnScale:h,noBodyStyles:j,container:M,autoFocus:z}},e))}const ae=r.forwardRef(function({...t},n){const{overlayRef:e,snapPoints:o,onRelease:i,shouldFade:a,isOpen:b,modal:h,shouldAnimate:T}=pt(),D=Qt(n,e),g=o&&o.length>0;if(!h)return null;const m=r.useCallback(p=>i(p),[i]);return r.createElement(xe,{onMouseUp:m,ref:D,"data-vaul-overlay":"","data-vaul-snap-points":b&&g?"true":"false","data-vaul-snap-points-overlay":b&&a?"true":"false","data-vaul-animate":T?.current?"true":"false",...t})});ae.displayName="Drawer.Overlay";const oe=r.forwardRef(function({onPointerDownOutside:t,style:n,onOpenAutoFocus:e,...o},i){const{drawerRef:a,onPress:b,onRelease:h,onDrag:T,keyboardIsOpen:D,snapPointsOffset:g,activeSnapPointIndex:m,modal:p,isOpen:B,direction:_,snapPoints:E,container:U,handleOnly:w,shouldAnimate:A,autoFocus:j}=pt(),[d,Y]=r.useState(!1),Q=Qt(i,a),c=r.useRef(null),x=r.useRef(null),y=r.useRef(!1),I=E&&E.length>0;Ze();const M=(u,F,k=0)=>{if(y.current)return!0;const W=Math.abs(u.y),P=Math.abs(u.x),X=P>W,G=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(u.x*G<0)&&P>=0&&P<=k)return X}else if(!(u.y*G<0)&&W>=0&&W<=k)return!X;return y.current=!0,!0};r.useEffect(()=>{I&&window.requestAnimationFrame(()=>{Y(!0)})},[]);function z(u){c.current=null,y.current=!1,h(u)}return r.createElement(Se,{"data-vaul-drawer-direction":_,"data-vaul-drawer":"","data-vaul-delayed-snap-points":d?"true":"false","data-vaul-snap-points":B&&I?"true":"false","data-vaul-custom-container":U?"true":"false","data-vaul-animate":A?.current?"true":"false",...o,ref:Q,style:g&&g.length>0?{"--snap-point-height":`${g[m??0]}px`,...n}:n,onPointerDown:u=>{w||(o.onPointerDown==null||o.onPointerDown.call(o,u),c.current={x:u.pageX,y:u.pageY},b(u))},onOpenAutoFocus:u=>{e?.(u),j||u.preventDefault()},onPointerDownOutside:u=>{if(t?.(u),!p||u.defaultPrevented){u.preventDefault();return}D.current&&(D.current=!1)},onFocusOutside:u=>{if(!p){u.preventDefault();return}},onPointerMove:u=>{if(x.current=u,w||(o.onPointerMove==null||o.onPointerMove.call(o,u),!c.current))return;const F=u.pageY-c.current.y,k=u.pageX-c.current.x,W=u.pointerType==="touch"?10:2;M({x:k,y:F},_,W)?T(u):(Math.abs(k)>W||Math.abs(F)>W)&&(c.current=null)},onPointerUp:u=>{o.onPointerUp==null||o.onPointerUp.call(o,u),c.current=null,y.current=!1,h(u)},onPointerOut:u=>{o.onPointerOut==null||o.onPointerOut.call(o,u),z(x.current)},onContextMenu:u=>{o.onContextMenu==null||o.onContextMenu.call(o,u),x.current&&z(x.current)}})});oe.displayName="Drawer.Content";const nn=250,rn=120,an=r.forwardRef(function({preventCycle:t=!1,children:n,...e},o){const{closeDrawer:i,isDragging:a,snapPoints:b,activeSnapPoint:h,setActiveSnapPoint:T,dismissible:D,handleOnly:g,isOpen:m,onPress:p,onDrag:B}=pt(),_=r.useRef(null),E=r.useRef(!1);function U(){if(E.current){j();return}window.setTimeout(()=>{w()},rn)}function w(){if(a||t||E.current){j();return}if(j(),!b||b.length===0){D||i();return}if(h===b[b.length-1]&&D){i();return}const Y=b.findIndex(c=>c===h);if(Y===-1)return;const Q=b[Y+1];T(Q)}function A(){_.current=window.setTimeout(()=>{E.current=!0},nn)}function j(){_.current&&window.clearTimeout(_.current),E.current=!1}return r.createElement("div",{onClick:U,onPointerCancel:j,onPointerDown:d=>{g&&p(d),A()},onPointerMove:d=>{g&&B(d)},ref:o,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...e},r.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});an.displayName="Drawer.Handle";function on(t){const n=pt(),{container:e=n.container,...o}=t;return r.createElement(Ce,{container:e,...o})}const et={Root:en,Content:oe,Overlay:ae,Portal:on,Close:Te,Title:Re,Description:De};function sn({...t}){return l.jsx(et.Root,{"data-slot":"drawer",...t})}function ln({...t}){return l.jsx(et.Portal,{"data-slot":"drawer-portal",...t})}function un({...t}){return l.jsx(et.Close,{"data-slot":"drawer-close",...t})}function cn({className:t,...n}){return l.jsx(et.Overlay,{"data-slot":"drawer-overlay",className:mt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function dn({className:t,children:n,...e}){return l.jsxs(ln,{"data-slot":"drawer-portal",children:[l.jsx(cn,{}),l.jsxs(et.Content,{"data-slot":"drawer-content",className:mt("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...e,children:[l.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),n]})]})}function fn({className:t,...n}){return l.jsx("div",{"data-slot":"drawer-header",className:mt("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",t),...n})}function mn({className:t,...n}){return l.jsx(et.Title,{"data-slot":"drawer-title",className:mt("text-foreground font-semibold",t),...n})}function pn({className:t,...n}){return l.jsx(et.Description,{"data-slot":"drawer-description",className:mt("text-muted-foreground text-sm",t),...n})}const wn=[...zt.filter(t=>t.image),...zt.filter(t=>t.image)];function jn(){const[t,n]=ot.useState(null),e=ot.useRef(null),o=Ne(e,{once:!0,margin:"-100px"});return l.jsxs("section",{"aria-labelledby":"gallery-heading",className:"overflow-hidden py-32 md:py-40",ref:e,children:[l.jsx("div",{className:"mx-auto mb-12 max-w-5xl px-6",children:l.jsxs(Wt.div,{initial:{opacity:0,y:30},animate:o?{opacity:1,y:0}:{},transition:{duration:.6},className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-end",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-primary mb-3 text-xs font-medium tracking-[0.2em] uppercase",children:"Our Journey"}),l.jsx("h2",{id:"gallery-heading",className:"text-foreground font-serif text-3xl tracking-tight sm:text-4xl",children:"Milestones along the way"})]}),l.jsxs("a",{href:"/impact",className:"text-muted-foreground hover:text-foreground link-underline inline-flex items-center gap-2 text-sm transition-colors",children:["View all",l.jsx($e,{className:"h-3 w-3"})]})]})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"from-background pointer-events-none absolute top-0 bottom-0 left-0 z-10 w-24 bg-gradient-to-r to-transparent"}),l.jsx("div",{className:"from-background pointer-events-none absolute top-0 right-0 bottom-0 z-10 w-24 bg-gradient-to-l to-transparent"}),l.jsx("div",{className:"animate-marquee flex",children:wn.map((i,a)=>l.jsx(Wt.button,{onClick:()=>n(i),className:"group focus-visible:ring-ring mx-3 w-80 flex-shrink-0 rounded-xl focus-visible:ring-2 focus-visible:outline-none",whileHover:{y:-4},transition:{type:"tween",stiffness:400},children:l.jsxs("article",{className:"bg-muted relative aspect-[4/3] overflow-hidden rounded-xl",children:[l.jsx(ye,{src:i.image,alt:i.title,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-102"}),l.jsx("div",{className:"from-foreground/60 absolute inset-0 bg-gradient-to-t via-transparent to-transparent"}),l.jsxs("div",{className:"absolute right-0 bottom-0 left-0 p-5",children:[l.jsx("span",{className:"text-background/70 mb-1 block font-mono text-xs",children:i.year}),l.jsx("p",{className:"text-background text-base font-medium",children:i.title})]})]})},`${i.year}-${a}`))})]}),l.jsx(sn,{open:!!t,onOpenChange:()=>n(null),children:l.jsx(dn,{children:l.jsxs("div",{className:"mx-auto w-full max-w-lg",children:[l.jsxs(fn,{className:"relative pt-6 text-left",children:[l.jsxs(un,{className:"hover:bg-muted absolute top-4 right-4 rounded-full p-2 transition-colors",children:[l.jsx(je,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]}),l.jsx("p",{className:"text-muted-foreground mb-2 font-mono text-xs",children:t?.year}),l.jsx(mn,{className:"font-serif text-2xl",children:t?.title})]}),l.jsxs("div",{className:"px-4 pb-8",children:[l.jsx(Oe,{title:t?.title,images:t?.images,className:"mb-5",onImageClick:()=>n(null)}),l.jsx(pn,{className:"text-muted-foreground text-base leading-relaxed",children:t?.description}),l.jsxs("div",{className:"mt-6 flex gap-3",children:[l.jsx(Ft,{asChild:!0,className:"flex-1 rounded-full",children:l.jsx("a",{href:"/donate",children:"Support Our Work"})}),l.jsx(Ft,{asChild:!0,variant:"outline",className:"flex-1 rounded-full bg-transparent",children:l.jsx("a",{href:"/impact",children:"Full Timeline"})})]})]})]})})})]})}export{jn as default};
